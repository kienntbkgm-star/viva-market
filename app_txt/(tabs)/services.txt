# TÃ“M Táº®T LOGIC TRANG SERVICES.TSX

## ğŸ¯ Má»¤C ÄÃCH
Trang danh sÃ¡ch dá»‹ch vá»¥ sá»­a chá»¯a & dá»n dáº¹p:
- Hiá»ƒn thá»‹ táº¥t cáº£ dá»‹ch vá»¥ tá»« collection `services`
- Grid layout 2 cá»™t
- Nháº¥n vÃ o card hoáº·c nÃºt "Äáº·t ngay" â†’ navigate Ä‘áº¿n ServiceDetail
- Hiá»ƒn thá»‹ giÃ¡ khuyáº¿n mÃ£i vÃ  giÃ¡ gá»‘c

## ğŸ“Š STATE & DATA

**Store:**
- `services`: danh sÃ¡ch dá»‹ch vá»¥ tá»« Firestore

**Navigation:**
- `router`: Expo Router Ä‘á»ƒ Ä‘iá»u hÆ°á»›ng

## ğŸ”„ LUá»’NG THá»°C THI

1. **Load dá»¯ liá»‡u:** Láº¥y `services` tá»« store (Ä‘Ã£ load trong index.tsx)
2. **Hiá»ƒn thá»‹ danh sÃ¡ch:** FlatList vá»›i `numColumns={2}`
3. **Nháº¥n card hoáº·c nÃºt:** Gá»i `handlePressService(item)`
4. **Navigate:** Push Ä‘áº¿n `/ServiceDetail` vá»›i params `item: JSON.stringify(item)`

## ğŸ”§ CÃC FUNCTION QUAN TRá»ŒNG

### `handlePressService(item)`
Äiá»u hÆ°á»›ng Ä‘áº¿n trang chi tiáº¿t dá»‹ch vá»¥:
```js
router.push({
  pathname: '/ServiceDetail',
  params: { item: JSON.stringify(item) }
});
```

### Price Calculation
```js
const priceNormal = (item.priceNormal || 0) * 1000;
const pricePromo = (item.pricePromo || 0) * 1000;
```

## ğŸ¨ UI Cáº¤U TRÃšC

```
SafeAreaView
  â”œâ”€ Header
  â”‚   â”œâ”€ Title: "Sá»­a chá»¯a & Dá»n dáº¹p"
  â”‚   â””â”€ Subtitle: "Dá»‹ch vá»¥ táº­n tÃ¢m cho ngÃ´i nhÃ  cá»§a báº¡n"
  â”‚
  â””â”€ FlatList (numColumns=2)
      â””â”€ renderServiceItem: Service Card
          â”œâ”€ Image (120px height)
          â”œâ”€ Card Content
          â”‚   â”œâ”€ Service Name (2 lines, 40px height)
          â”‚   â”œâ”€ Price Row
          â”‚   â”‚   â”œâ”€ Promo Price (bold, primary color)
          â”‚   â”‚   â””â”€ Old Price (strikethrough, náº¿u cÃ³ KM)
          â”‚   â””â”€ Button: "Äáº·t ngay"
          â”‚
          â””â”€ Empty Component: "Hiá»‡n chÆ°a cÃ³ dá»‹ch vá»¥ nÃ o."
```

## âš¡ ÄIá»‚M Äáº¶C BIá»†T

1. **Simple Layout:** KhÃ´ng cÃ³ filter, search, chá»‰ hiá»ƒn thá»‹ táº¥t cáº£
2. **2-column Grid:** `numColumns={2}` + `columnWrapperStyle`
3. **Card Width:** `width: '48%'` Ä‘á»ƒ 2 card cÃ¹ng hÃ ng
4. **Price Comparison:** Chá»‰ hiá»‡n giÃ¡ gá»‘c náº¿u `priceNormal > pricePromo`
5. **Service Name Height:** Fixed 40px Ä‘á»ƒ Ä‘á»“ng nháº¥t card height
6. **Button Color:** Background COLORS.primary (#FF6347 hoáº·c tÃ¹y config)
7. **Empty State:** Text "Hiá»‡n chÆ°a cÃ³ dá»‹ch vá»¥ nÃ o." giá»¯a mÃ n hÃ¬nh
8. **Image Fallback:** `https://via.placeholder.com/150` náº¿u khÃ´ng cÃ³ image
9. **Touchable Areas:** Cáº£ card vÃ  button Ä‘á»u trigger navigate (double tap prevention khÃ´ng cáº§n thiáº¿t)
10. **No Loading State:** Giáº£ Ä‘á»‹nh services Ä‘Ã£ load xong tá»« index.tsx

## ğŸš€ USER JOURNEY

**Táº¥t cáº£ user (guest, user, admin, shop, shipper):**
1. VÃ o Services tab (bottom navigation)
2. Xem danh sÃ¡ch dá»‹ch vá»¥ (grid 2 cá»™t)
3. Nháº¥n vÃ o card hoáº·c nÃºt "Äáº·t ngay"
4. Navigate Ä‘áº¿n ServiceDetail Ä‘á»ƒ xem chi tiáº¿t vÃ  Ä‘áº·t dá»‹ch vá»¥

## ğŸ”— NAVIGATION

**Navigates TO:**
- `/ServiceDetail` (vá»›i params item)

**Navigates FROM:**
- Bottom tab navigation (services tab)

## ğŸ’¡ LÆ¯U Ã Ká»¸ THUáº¬T

1. **Data Source:** Collection `services` trong Firestore
2. **Item Structure:**
   ```js
   {
     id: string,
     name: string,
     image: string,
     priceNormal: number (Ä‘Æ¡n vá»‹: nghÃ¬n Ä‘á»“ng),
     pricePromo: number (Ä‘Æ¡n vá»‹: nghÃ¬n Ä‘á»“ng),
     // ... other fields
   }
   ```
3. **Price Display Format:**
   ```js
   (price * 1000).toLocaleString('vi-VN') + 'Ä‘'
   ```
4. **JSON.stringify():** Cáº§n thiáº¿t vÃ¬ Expo Router params chá»‰ nháº­n string
5. **listPadding:** `paddingBottom: 100` Ä‘á»ƒ trÃ¡nh bottom tab che content
6. **Card Style:**
   - `backgroundColor: '#fff'`
   - `borderRadius: 15`
   - `elevation: 3` (Android shadow)
   - `shadowOpacity: 0.1` (iOS shadow)
7. **No Role Restriction:** Táº¥t cáº£ user Ä‘á»u cÃ³ thá»ƒ xem vÃ  Ä‘áº·t dá»‹ch vá»¥
8. **Header Style:**
   - `padding: 20`
   - `backgroundColor: '#fff'`
   - `borderBottomWidth: 1, borderColor: '#eee'`
9. **numberOfLines:** Service name truncate vá»›i `numberOfLines={2}` vÃ  `height: 40`
10. **Button Style:**
    - `paddingVertical: 8`
    - `borderRadius: 8`
    - `marginTop: 12`
    - `fontSize: 12, fontWeight: 'bold'`

## ğŸ” SO SÃNH Vá»šI HOME.TSX

**Giá»‘ng:**
- Grid layout 2 cá»™t
- Card hiá»ƒn thá»‹ image + name + price
- Navigate Ä‘áº¿n detail page

**KhÃ¡c:**
- Services: KhÃ´ng cÃ³ filter, search
- Services: Button "Äáº·t ngay" thay vÃ¬ tap cáº£ card
- Services: KhÃ´ng cÃ³ status (enable/disable, háº¿t giá» bÃ¡n)
- Services: KhÃ´ng cÃ³ shop filter (dá»‹ch vá»¥ khÃ´ng thuá»™c shop cá»¥ thá»ƒ)
- Services: ÄÆ¡n giáº£n hÆ¡n nhiá»u (chá»‰ hiá»ƒn thá»‹ + navigate)
